window.JST = window.JST || {};
var template = function(str){var fn = new Function('obj', 'var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push(\''+str.replace(/\\/g, '\\\\').replace(/'/g, "\\'").replace(/<%=([\s\S]+?)%>/g,function(match,code){return "',"+code.replace(/\\'/g, "'")+",'";}).replace(/<%([\s\S]+?)%>/g,function(match,code){return "');"+code.replace(/\\'/g, "'").replace(/[\r\n\t]/g,' ')+"__p.push('";}).replace(/\r/g,'\\r').replace(/\n/g,'\\n').replace(/\t/g,'\\t')+"');}return __p.join('');");return fn;};
window.JST['summary-overlay'] = template('<p>\n  Order by:\n  <a ng-click="overlay_order=\'evalue\'">E-value</a>,\n  <a ng-click="overlay_order=\'query_start\'">Position</a>\n</p>\n\n<div class="label label-primary overlay" style="margin-left: 0%; width: 100%">Query</div>\n<div class="label label-danger overlay"\n     ng-repeat="result in results|orderBy:overlay_order"\n     style="margin-left: {{((result.res.query_start-1)*100/result_query.length).toFixed(2)}}%;\n            width: {{((result.res.query_end-result.res.query_start+1)*100/result_query.length).toFixed(2)}}%; "\n     ng-click="controls.to_show=result.res.accession"\n     title="{{ result.res.accession }} {{ result.obj.name }} {{ (result.res.identities*100/result.res.alignment.match.length).toFixed(1) }}% identity">\n  {{ result.res.accession }}\n  {{ result.obj.name|trunc:30 }}\n  <span ng-if="result.identical_matches.length > 0">\n    ({{ result.identical_matches.length }} related)\n  </span>\n  {{ (result.res.identities*100/result.res.alignment.match.length).toFixed(1) }}% identity\n</div>\n<div class="label label-primary overlay" style="margin-left: 0%; width: 100%">Query</div>\n');
window.JST['summary-table'] = template('<table class="table table-condensed table-bordered">\n  <tr class="success">\n    <th>Q (/{{ result_query.length }})</th> <th>E</th> <th>%</th> <th>Match</th>\n  </tr>\n  <tr ng-repeat="result in results">\n    <td>\n      {{ result.res.query_start }}-{{ result.res.query_end }}\n    </td>\n    <td>\n      {{ result.res.evalue }}\n    </td>\n    <td>\n      {{ (100*result.res.identities/result.res.alignment.match.length).toFixed(1) }}\n    </td>\n    <td>\n      <a href="javascript:void(0);" ng-click="controls.to_show=result.res.accession"\n       >{{ result.res.accession }} {{ result.obj.name|trunc:30 }}</a>\n      <span ng-if="result.identical_matches.length > 0" class="related-desc">\n        <br/>\n        ... and {{ result.identical_matches.length }} related entries\n      </span>\n    </td>\n  </tr>\n</table>\n');
window.JST['results'] = template('<p ng-if="submitted === true && results === null">\n  Searching ...\n</p>\n\n<div ng-if="results !== null">\n\n<div class="pull-left" id="results-list">\n  <p>\n    {{ results.length }} matches from your search.\n  </p>\n\n  <div ng-repeat="result in results">\n    <div ng-if="controls.to_show===undefined || controls.to_show===null || controls.to_show===result.res.accession"\n         class="panel panel-default">\n      <div class="panel-heading">\n        <b>{{ result.res.accession }}</b> <a href="{{ result.obj.url }}">{{ result.obj.name }}</a>\n        <br/>\n        Query: {{ result.res.query_start }}-{{ result.res.query_end }}/{{ result_query.length }}.\n        Subject: {{ result.res.subject_start }}-{{ result.res.subject_end }}.\n        E-value: {{ result.res.evalue }}.\n        Identities: {{ result.res.identities }}/{{ result.res.alignment.match.length }}.\n      </div>\n      <div class="panel-body">\n        <div class="alignment-container" ng-bind-html="result.alignment.wrapped_html()"></div>\n        <div ng-if="result.identical_matches.length > 0" class="related-desc">\n          Also matches at least {{ result.identical_matches.length }} related entries:\n          <partial template="identical"></partial>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n\n<div class="pull-left" id="results-summary">\n  <p>\n    <a href="javascript:void(0);" ng-click="controls.to_show=null">Show all alignments</a> </li>\n  </p>\n\n  <div id="summary-tabs">\n    <ul class="nav nav-tabs">\n      <li class="active"><a ng-click="showSummary(0, \'summary-overlay\')">Overlay</a></li>\n      <li><a ng-click="showSummary(1, \'summary-table\')">Table</a></li>\n    </ul>\n\n    <div class="tab-content">\n      <div class="tab-pane active" id="summary-overlay">\n        <partial template="summary-overlay"></partial>\n      </div>\n      <div class="tab-pane" id="summary-table">\n        <partial template="summary-table"></partial>\n      </div>\n    </div>\n  </div>\n\n</div>\n\n</div>\n');
window.JST['breeze'] = template('<form>\n  <div class="form-inline">\n    <textarea id="query" class="sequence" ng-model="query.sequence"></textarea>\n    <button class="btn btn-primary" ng-click="makeQuery()">Blast</button>\n  </div>\n  <div class="form-inline select-dbs">\n    <span class="select-db">Databases:</span>\n    <span ng-repeat="(db, url) in databases" class="select-db">\n      <input type="radio" name="database" ng-model="query.db" value="{{ db }}" /> {{ db }}\n    </span>\n  </div>\n  <div class="form-inline">\n    Input:\n      <input type="radio" name="type" ng-model="query.input" value="dna" ng-checked="query.input === \'dna\'" /> DNA\n      <input type="radio" name="type" ng-model="query.input" value="protein" /> Protein\n    &nbsp;\n    &nbsp;\n    &nbsp;\n    <a href="javascript:void(0);" title="Minimum hits to alignment length ratio">Identity min:</a>\n      <input type="number" step="0.05" ng-model="query.identity_threshold" size="3" />\n    <a href="javascript:void(0);" title="Minimum alignment to subject length ratio">Feature ratio:</a>\n      <input type="number" step="0.05" ng-model="query.feature_threshold" size="3" />\n  </div>\n</form>\n\n<div id="results">\n  <partial template="results"></partial>\n</div>\n');
window.JST['identical'] = template('<ul>\n  <li ng-repeat="res in result.identical_matches">\n    <a href="{{ res.obj.url }}">{{ res.res.accession }} {{ res.obj.name }}</a>:\n    {{ res.res.subject_start }}-{{ res.res.subject_end }}\n    <div ng-init="result=res">\n      <div ng-if="result.identical_matches.length > 0">\n        <partial template="identical"></partial>\n      </div>\n    </div>\n  </li>\n</ul>\n');
